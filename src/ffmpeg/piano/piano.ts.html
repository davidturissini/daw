<template>
    <ffmpeg-grid
        onaudiorangecreated={onNoteCreated}
        onaudiorangechange={onNoteChanged}
        rows={gridRows}
        ongridaudiowindowcreated={onGridAudioWindowCreated}>
        <div slot="col-left">
            <template for:each={pianoKeyViewModels} for:item="pianoKey">
                <button
                    class={pianoKey.className}
                    style={pianoKey.style}
                    data-note-name={pianoKey.name}
                    onmouseenter={onKeyMouseEnter}
                    onmousedown={onKeyMouseDown}
                    onmouseleave={onKeyMouseLeave}
                    key={pianoKey.name}
                >
                    <h5 class="key__name">{pianoKey.name}</h5>
                </button>
            </template>
        </div>
        <template if:true={hasGridWindow} for:each={noteViewModels} for:item="note">
            <ffmpeg-audiorange
                item-id={note.octave}
                color={note.color}
                rows={gridRows}
                row-index={note.rowIndex}
                audio-window={gridWindow}
                key={note.octave}
                range={note.range}
            >
            </ffmpeg-audiorange>
        </template>
    </ffmpeg-grid>
</template>
