<template>
    <div
        class="container"
        onmidinotecreated={onMidiNoteCreated}
        onmidinoterangechanged={onMidiNoteRangeChanged}
        onmidinotedeleted={onMidiNoteDeleted}
        onkeyboardrangechange={onKeyboardRangeChange}
        onmidinotekeychanged={onMidiNoteKeyChanged}
    >
        <template if:true={instrumentIsDrumMachine}>
            <ffmpeg-drummachine
                instrument-id={instrumentId}
                current-time={loop.currentTime}
                range={loop.range}
                tempo={tempo}
                notes={midiNotes}
            >
            </ffmpeg-drummachine>
        </template>
        <template if:true={shouldRenderPiano}>
            <ffmpeg-piano
                instrument-id={instrumentId}
                current-time={currentTime}
                tempo={tempo}
                notes={midiNotes}
                range={loop.range}
            >
            </ffmpeg-piano>
        </template>
    </div>
</template>
