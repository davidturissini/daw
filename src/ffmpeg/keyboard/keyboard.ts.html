<template>
    <header class="toolbar">
        <slot name="header"></slot>
    </header>
    <div class="window-top">
        <slot name="window-top"></slot>
    </div>
    <main onscroll={onMainScroll}>
        <div class="col-left">
            <template for:each={rowViewModels} for:item="vm">
                <ffmpeg-keyboardkey
                    style={vm.style}
                    class="col-left-row"
                    key={vm.id}
                    note={vm.note}
                    piano-key={vm.pianoKey}
                    onmousedown={onKeyboardKeyMouseDown}
                    variant={variant}>
                </ffmpeg-keyboardkey>
            </template>
        </div>
        <div class="grid-container">
            <ffmpeg-audiowindow
                quanitize-resolution={quanitizeResolution}
                markers={markers}
                show-grid
                tempo={tempo}
                padding={notePadding}
                visible-range={visibleRange}
                onaudiowindowdragstart={onAudioWindowDragStart}
                onaudiowindowdrag={onAudioWindowDrag}
                tick-ranges={tickRangesViewModels}
            >
            </ffmpeg-audiowindow>
            <template for:each={rowLanes} for:item="lane">
                <div class={lane.className} style={lane.style} key={lane.key}></div>
            </template>
        </div>
    </main>
</template>
