<template>
    <ffmpeg-resizecontainer parent-frame={frame}>
        <section class="tracks">
            <template for:each={instruments} for:item="instrument">
                <ffmpeg-trackloops
                    class="track-loop"
                    instrument={instrument}
                    key={instrument.id}
                    oncreatetrackloop={onCreateTrackLoop}
                >
                </ffmpeg-trackloops>
            </template>
        </section>
        <template if:true={isLoopEditRouteActive}>
            <ffmpeg-loopedit loop-id={routeParams.loop_id} slot="bottom"></ffmpeg-loopedit>
        </template>
        <template if:true={isInstrumentEditRouteActive}>
            <ffmpeg-instrumenteditor slot="bottom" instrument-id={routeParams.instrument_id}></ffmpeg-instrumenteditor>
        </template>
    </ffmpeg-resizecontainer>
</template>
